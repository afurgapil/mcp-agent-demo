sources:
  my-mysql-source:
    kind: mysql
    host: CHANGE_ME
    port: 3306
    database: CHANGE_ME
    user: CHANGE_ME
    password: CHANGE_ME
    queryTimeout: 30s

tools:
  show_tables:
    kind: mysql-sql
    source: my-mysql-source
    statement: |
      SHOW TABLES;
    description: List all table names in the current database.

  describe_table:
    kind: mysql-sql
    source: my-mysql-source
    statement: |
      DESCRIBE `{{.tableName}}`;
    description: Show columns for a table.
    templateParameters:
      - name: tableName
        type: string
        description: Table name

  list_table_limited:
    kind: mysql-sql
    source: my-mysql-source
    statement: |
      SELECT * FROM `{{.tableName}}` LIMIT {{.limit}} OFFSET {{.offset}};
    description: List rows with pagination.
    templateParameters:
      - name: tableName
        type: string
      - name: limit
        type: integer
      - name: offset
        type: integer

  list_table_where:
    kind: mysql-sql
    source: my-mysql-source
    statement: |
      SELECT * FROM `{{.tableName}}` WHERE {{.where}} LIMIT {{.limit}};
    description: Simple filtered list; ensure limit is provided.
    templateParameters:
      - name: tableName
        type: string
      - name: where
        type: string
      - name: limit
        type: integer

  mysql_execute_sql:
    kind: mysql-execute-sql
    source: my-mysql-source
    description: Execute raw SQL generated by the model (use sparingly).

toolsets:
  readonly:
    - show_tables
    - describe_table
    - list_table_limited
  admin:
    - list_table_where
    - mysql_execute_sql

